<app-navbar></app-navbar>
<div class="container mt-5">
    <div class="page-header text-center">

    </div> <!-- Credit Card Payment Form - START -->
    <div class="container gradient-custom shadow-lg align-items-center d-flex justify-content-center ps-1">
        <div class="row">
            <div class="col-xs-10">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="row mt-5">
                            <h3 class="text-center">Payment Details</h3>
                            <div class="container ">
                                <div class=" align-items-center d-flex justify-content-center ">
                                    <img class="img-responsive images"
                                        src="https://cdn4.iconfinder.com/data/icons/payment-method/160/payment_method_card_visa-512.png">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <h6 class="text-white">Amount to be paid : Rs. {{bill.total}}</h6>
                        <h6 class="text-danger text-red">Time left to make the payment : {{min}} min(s) {{second}} second(s)</h6>
                        <small class="text-danger">{{po.message}}</small>
                        <form #paymentForm="ngForm" (ngSubmit)="makePayment(); paymentForm.reset();">
                            <div class="row mt-3">
                                <div class="col-xs-12">
                                    <div class="form-group">
                                        <label>CARD NUMBER</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="Valid Card Number"
                                                pattern="^4[0-9]{12}(?:[0-9]{3})?$" name="cardNo"
                                                [(ngModel)]="paymentDetails.cardNo" #cardNo="ngModel" required
                                                [class.is-invalid]="cardNo.invalid && cardNo.touched">
                                            <span class="input-group-addon bg-light ps-2 pe-2"><span
                                                    class="fa fa-credit-card">
                                                </span>
                                            </span>

                                        </div>
                                        <div *ngIf="cardNo.errors && (cardNo.invalid && cardNo.touched)">
                                            <small class="text-danger" *ngIf="cardNo.errors?.['required']">Card number
                                                is required field</small>
                                            <small class="text-danger" *ngIf="cardNo.errors?.['pattern']">Incorrect
                                                format of card number</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-xs-7 col-md-7">
                                    <div class="form-group"> <label><span class="hidden-xs">EXPIRATION</span><span
                                                class="visible-xs-inline">EXP</span> DATE</label>
                                        <input type="tel" class="form-control" placeholder="MM / YY"
                                            pattern="(0[1-9]|1[0-2])\/([0-9]{2}$)" name="exp_date"
                                            [(ngModel)]="paymentDetails.expDate" #exp_date="ngModel"
                                            [class.is-invalid]="exp_date.invalid && exp_date.touched" required />
                                    </div>
                                    <div *ngIf="exp_date.errors && (exp_date.invalid && exp_date.touched)">
                                        <small class="text-danger" *ngIf="exp_date.errors?.['required']">Expiry date is
                                            required field</small>
                                        <small class="text-danger" *ngIf="exp_date.errors?.['pattern']">Incorrect format
                                            of date</small>
                                    </div>
                                </div>

                                <div class="col-xs-5 col-md-5 pull-right">
                                    <div class="form-group"> <label>CVV CODE</label> <input type="password"
                                            class="form-control" placeholder="CVV" pattern="[0-9]{3}" name="cvv"
                                            [(ngModel)]="paymentDetails.cvv" #cvv="ngModel" required
                                            [class.is-invalid]="cvv.invalid && cvv.touched" />
                                    </div>
                                    <div *ngIf="cvv.errors && (cvv.invalid && cvv.touched)">
                                        <small class="text-danger" *ngIf="cvv.errors?.['required']">CVV is required
                                            field</small>
                                        <small class="text-danger" *ngIf="cvv.errors?.['pattern']">Incorrect format of
                                            CVV</small>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-xs-12">
                                    <div class="form-group"> <label>CARD OWNER</label> <input type="text"
                                            class="form-control" placeholder="Card Owner Name"
                                            pattern="[a-zA-Z][a-zA-Z ]*" name="cardOwner"
                                            [(ngModel)]="paymentDetails.cardHolderName" #cardOwner="ngModel" required
                                            [class.is-invalid]="cardOwner.invalid && cardOwner.touched" /> </div>
                                    <div *ngIf="cardOwner.errors && (cardOwner.invalid && cardOwner.touched)">
                                        <small class="text-danger" *ngIf="cardOwner.errors?.['required']">Name is
                                            required
                                            field</small>
                                        <small class="text-danger" *ngIf="cardOwner.errors?.['pattern']">Incorrect
                                            format of
                                            Name</small>
                                    </div>
                                </div>

                            </div>

                            <div class="panel-footer">
                                <div class="row mt-5">
                                    <div class="col-xs-12 mb-5 align-items-center d-flex justify-content-center">
                                        <button class="btn btn-success btn-lg" [disabled]="!paymentForm.form.valid"
                                            type="submit">Confirm
                                            Payment
                                        </button>
                                        <div class="ms-5"></div>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>